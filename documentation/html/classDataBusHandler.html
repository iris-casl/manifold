<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>IRIS: DataBusHandler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>DataBusHandler Class Reference</h1><!-- doxytag: class="DataBusHandler" --><!-- doxytag: inherits="Component" -->The data bus class.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="data__bus__handler_8h-source.html">data_bus_handler.h</a>&gt;</code>
<p>
<div class="dynheader">
Inheritance diagram for DataBusHandler:</div>
<div class="dynsection">
<p><center><img src="classDataBusHandler__inherit__graph.png" border="0" usemap="#DataBusHandler__inherit__map" alt="Inheritance graph"></center>
<map name="DataBusHandler__inherit__map">
<area shape="rect" href="classComponent.html" title="{Component\n|+ inLinks\l+ outLinks\l&#45; componentId\l|+ Component()\l+ Component()\l+ ~Component()\l+ setComponentId()\l+ addInputLink()\l+ addOutputLink()\l+ myId()\l}" alt="" coords="9,5,145,213"></map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center></div>
<div class="dynheader">
Collaboration diagram for DataBusHandler:</div>
<div class="dynsection">
<p><center><img src="classDataBusHandler__coll__graph.png" border="0" usemap="#DataBusHandler__coll__map" alt="Collaboration graph"></center>
<map name="DataBusHandler__coll__map">
<area shape="rect" href="classComponent.html" title="{Component\n|+ inLinks\l+ outLinks\l&#45; componentId\l|+ Component()\l+ Component()\l+ ~Component()\l+ setComponentId()\l+ addInputLink()\l+ addOutputLink()\l+ myId()\l}" alt="" coords="176,885,312,1093"><area shape="rect" href="classLink.html" title="{Link\n|+ src\l+ width\l+ outputs\l|+ Link()\l+ Send()\l}" alt="" coords="124,533,199,661"><area shape="rect" href="classOutputBase.html" title="{OutputBase\n|+ componentId\l+ latency\l|+ OutputBase()\l+ CallHandler()\l}" alt="" coords="5,149,115,261"><area shape="rect" title="STL class." alt="" coords="157,165,253,245"><area shape="rect" title="STL class." alt="" coords="253,285,368,365"></map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center></div>

<p>
<a href="classDataBusHandler-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDataBusHandler.html#3c189b2cecaa625d3807dcbba2232f76">DataBusHandler</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">constructor  <a href="#3c189b2cecaa625d3807dcbba2232f76"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDataBusHandler.html#acc66535bff25de50ed9b1658e8b09d9">~DataBusHandler</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">deconstructor  <a href="#acc66535bff25de50ed9b1658e8b09d9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDataBusHandler.html#62a38fff68da7ad9ad513f14de385297">process_event</a> (<a class="el" href="classIrisEvent.html">IrisEvent</a> *e)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Handles all the operations of the data bus.  <a href="#62a38fff68da7ad9ad513f14de385297"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDataBusHandler.html#cf717e5d6c597c9fd65edde3eeb5f5a6">toString</a> ()</td></tr>

<tr><td colspan="2"><br><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classComponent.html">Component</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDataBusHandler.html#9b16bd738b6aa0c934f2f274d59cb50e">parent</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">pointer to its parent  <a href="#9b16bd738b6aa0c934f2f274d59cb50e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classComponent.html">Component</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDataBusHandler.html#b85778ad44b2e82a0adc49c607bc4fc5">child1</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">pointer to corresponding <a class="el" href="classDRAM.html">DRAM</a> channel  <a href="#b85778ad44b2e82a0adc49c607bc4fc5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classComponent.html">Component</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDataBusHandler.html#136fe87b5a2f210a28b0427a8f30c451">child2</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">pointer to response handler  <a href="#136fe87b5a2f210a28b0427a8f30c451"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="mc__constants_8h.html#a475e5c84e5eb0fe317942dc62553f7e">Time</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDataBusHandler.html#f41700d361775ecae955d7a2c7c9b126">prevTime</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">variable to keep track of the last time data bus was used  <a href="#f41700d361775ecae955d7a2c7c9b126"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="mc__constants_8h.html#a475e5c84e5eb0fe317942dc62553f7e">Time</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDataBusHandler.html#282448c0b3c7ea7d0ee52b36a442b0b3">busBusyTime</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">total time the bus remained busy  <a href="#282448c0b3c7ea7d0ee52b36a442b0b3"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The data bus class. 
<p>
Description: This class handles the operation of the data bus. It receives read and write data from the corresponding dram channel or cmd issuer, respectively. It sends them to the response handler or <a class="el" href="classDRAM.html">DRAM</a> after burst delay cycles. It also calculates data bus related stats. 
<p>Definition at line <a class="el" href="data__bus__handler_8h-source.html#l00047">47</a> of file <a class="el" href="data__bus__handler_8h-source.html">data_bus_handler.h</a>.</p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="3c189b2cecaa625d3807dcbba2232f76"></a><!-- doxytag: member="DataBusHandler::DataBusHandler" ref="3c189b2cecaa625d3807dcbba2232f76" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DataBusHandler::DataBusHandler           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
constructor 
<p>

<p>Definition at line <a class="el" href="data__bus__handler_8cc-source.html#l00034">34</a> of file <a class="el" href="data__bus__handler_8cc-source.html">data_bus_handler.cc</a>.</p>

<p>References <a class="el" href="data__bus__handler_8h-source.html#l00059">busBusyTime</a>, and <a class="el" href="data__bus__handler_8h-source.html#l00058">prevTime</a>.</p>

</div>
</div><p>
<a class="anchor" name="acc66535bff25de50ed9b1658e8b09d9"></a><!-- doxytag: member="DataBusHandler::~DataBusHandler" ref="acc66535bff25de50ed9b1658e8b09d9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DataBusHandler::~DataBusHandler           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
deconstructor 
<p>

<p>Definition at line <a class="el" href="data__bus__handler_8cc-source.html#l00047">47</a> of file <a class="el" href="data__bus__handler_8cc-source.html">data_bus_handler.cc</a>.</p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="62a38fff68da7ad9ad513f14de385297"></a><!-- doxytag: member="DataBusHandler::process_event" ref="62a38fff68da7ad9ad513f14de385297" args="(IrisEvent *e)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DataBusHandler::process_event           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classIrisEvent.html">IrisEvent</a> *&nbsp;</td>
          <td class="paramname"> <em>e</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Handles all the operations of the data bus. 
<p>

<p>Definition at line <a class="el" href="data__bus__handler_8cc-source.html#l00059">59</a> of file <a class="el" href="data__bus__handler_8cc-source.html">data_bus_handler.cc</a>.</p>

<p>References <a class="el" href="request_8h-source.html#l00066">Request::bankNo</a>, <a class="el" href="config__constants_8h-source.html#l00096">BUS_CYCLE</a>, <a class="el" href="data__bus__handler_8h-source.html#l00059">busBusyTime</a>, <a class="el" href="data__bus__handler_8h-source.html#l00053">child1</a>, <a class="el" href="data__bus__handler_8h-source.html#l00054">child2</a>, <a class="el" href="request_8h-source.html#l00073">Request::data</a>, <a class="el" href="config__constants_8h-source.html#l00091">DDR_BUS_WIDTH</a>, <a class="el" href="irisEvent_8h-source.html#l00047">IrisEvent::event_data</a>, <a class="el" href="simulator_8cc-source.html#l00051">Simulator::Now()</a>, <a class="el" href="data__bus__handler_8h-source.html#l00058">prevTime</a>, <a class="el" href="dram_8cc-source.html#l00137">DRAMChannel::process_event()</a>, <a class="el" href="response__handler_8cc-source.html#l00064">ResponseHandler::process_event()</a>, <a class="el" href="request_8h-source.html#l00065">Request::rankNo</a>, <a class="el" href="genericEvents_8h-source.html#l00052">REPLY</a>, <a class="el" href="cmd__issuer_8h-source.html#l00047">DRAMCmdState::req</a>, <a class="el" href="simulator_8h-source.html#l00309">Simulator::Schedule()</a>, <a class="el" href="request_8h-source.html#l00041">Data::size</a>, <a class="el" href="genericEvents_8h-source.html#l00049">START_READ</a>, <a class="el" href="genericEvents_8h-source.html#l00050">START_WRITE</a>, <a class="el" href="config__constants_8h-source.html#l00102">t_CMD</a>, and <a class="el" href="irisEvent_8h-source.html#l00049">IrisEvent::type</a>.</p>

<p>Referenced by <a class="el" href="dram_8cc-source.html#l00137">DRAMChannel::process_event()</a>, and <a class="el" href="cmd__issuer_8cc-source.html#l00058">CmdIssuer::process_event()</a>.</p>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="classDataBusHandler_62a38fff68da7ad9ad513f14de385297_icgraph.png" border="0" usemap="#classDataBusHandler_62a38fff68da7ad9ad513f14de385297_icgraph_map" alt=""></center>
<map name="classDataBusHandler_62a38fff68da7ad9ad513f14de385297_icgraph_map">
<area shape="rect" href="classDRAMChannel.html#7a3494f58f927c1df099501d5b2daeba" title="DRAMChannel::process_event" alt="" coords="261,157,461,184"><area shape="rect" href="classCmdIssuer.html#37cfadf3b2fe7118c26dc5bdee0e92b0" title="CmdIssuer::process_event" alt="" coords="767,196,943,223"><area shape="rect" href="classCmdBusHandler.html#44390dde03f10f199967fe7fa30b55f6" title="main function that handles the operation of cmd bus" alt="" coords="509,157,717,184"><area shape="rect" href="classRefreshMgr.html#19d89c100f78a655bd7860111755128c" title="RefreshMgr::process_event" alt="" coords="996,196,1177,223"><area shape="rect" href="classBankHandler.html#ff84a6f67d0bffbe69b069d7f2e718af" title="Main process function." alt="" coords="993,132,1180,159"><area shape="rect" href="classMC.html#1f4c68b63112b1bd4fa8bcdf47a8e57c" title="MC::StartRefresh" alt="" coords="1252,208,1375,235"><area shape="rect" href="classMC.html#05109b1e9678c5d598027d7c47d7b2a4" title="MC::Init" alt="" coords="1516,208,1583,235"><area shape="rect" href="manifold__simmc_8cc.html#3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="1987,208,2035,235"><area shape="rect" href="classAddrMap.html#e3ac527bcffced20f090db49c4047b60" title="Main function that handles this class." alt="" coords="1231,56,1396,83"><area shape="rect" href="classRequestHandler.html#c295b7e01ed866b390c93a559f375b2f" title="RequestHandler::process_event" alt="" coords="1447,56,1652,83"><area shape="rect" href="classNI.html#e46ba8d7412bc25bd55002faf8415360" title="NI::handle_new_packet_event" alt="" coords="1703,5,1897,32"><area shape="rect" href="main_8cc.html#3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="1776,107,1824,133"><area shape="rect" href="classMC.html#bf467a900cc11b932afd0e7432dd504c" title="MC::sim_main" alt="" coords="1748,56,1852,83"><area shape="rect" href="classNI.html#3ed3e6f65c38e630706af16212ded02a" title="NI::process_event" alt="" coords="1947,107,2075,133"><area shape="rect" href="classResponseHandler.html#da5e60fb1d62f5ca755dca334bb18f5c" title="ResponseHandler::process_event" alt="" coords="2123,157,2339,184"><area shape="rect" href="classNI.html#13ba7118e07f54025cdd57e4ea877b1d" title="NI::handle_out_pull_event" alt="" coords="2388,132,2559,159"></map>
</div>

</div>
</div><p>
<a class="anchor" name="cf717e5d6c597c9fd65edde3eeb5f5a6"></a><!-- doxytag: member="DataBusHandler::toString" ref="cf717e5d6c597c9fd65edde3eeb5f5a6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string DataBusHandler::toString           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="282448c0b3c7ea7d0ee52b36a442b0b3"></a><!-- doxytag: member="DataBusHandler::busBusyTime" ref="282448c0b3c7ea7d0ee52b36a442b0b3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mc__constants_8h.html#a475e5c84e5eb0fe317942dc62553f7e">Time</a> <a class="el" href="classDataBusHandler.html#282448c0b3c7ea7d0ee52b36a442b0b3">DataBusHandler::busBusyTime</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
total time the bus remained busy 
<p>

<p>Definition at line <a class="el" href="data__bus__handler_8h-source.html#l00059">59</a> of file <a class="el" href="data__bus__handler_8h-source.html">data_bus_handler.h</a>.</p>

<p>Referenced by <a class="el" href="data__bus__handler_8cc-source.html#l00034">DataBusHandler()</a>, and <a class="el" href="data__bus__handler_8cc-source.html#l00059">process_event()</a>.</p>

</div>
</div><p>
<a class="anchor" name="b85778ad44b2e82a0adc49c607bc4fc5"></a><!-- doxytag: member="DataBusHandler::child1" ref="b85778ad44b2e82a0adc49c607bc4fc5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classComponent.html">Component</a>* <a class="el" href="classDataBusHandler.html#b85778ad44b2e82a0adc49c607bc4fc5">DataBusHandler::child1</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
pointer to corresponding <a class="el" href="classDRAM.html">DRAM</a> channel 
<p>

<p>Definition at line <a class="el" href="data__bus__handler_8h-source.html#l00053">53</a> of file <a class="el" href="data__bus__handler_8h-source.html">data_bus_handler.h</a>.</p>

<p>Referenced by <a class="el" href="data__bus__handler_8cc-source.html#l00059">process_event()</a>, and <a class="el" href="bus_8cc-source.html#l00061">Bus::SetLinks()</a>.</p>

</div>
</div><p>
<a class="anchor" name="136fe87b5a2f210a28b0427a8f30c451"></a><!-- doxytag: member="DataBusHandler::child2" ref="136fe87b5a2f210a28b0427a8f30c451" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classComponent.html">Component</a>* <a class="el" href="classDataBusHandler.html#136fe87b5a2f210a28b0427a8f30c451">DataBusHandler::child2</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
pointer to response handler 
<p>

<p>Definition at line <a class="el" href="data__bus__handler_8h-source.html#l00054">54</a> of file <a class="el" href="data__bus__handler_8h-source.html">data_bus_handler.h</a>.</p>

<p>Referenced by <a class="el" href="data__bus__handler_8cc-source.html#l00059">process_event()</a>, and <a class="el" href="bus_8cc-source.html#l00061">Bus::SetLinks()</a>.</p>

</div>
</div><p>
<a class="anchor" name="9b16bd738b6aa0c934f2f274d59cb50e"></a><!-- doxytag: member="DataBusHandler::parent" ref="9b16bd738b6aa0c934f2f274d59cb50e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classComponent.html">Component</a>* <a class="el" href="classDataBusHandler.html#9b16bd738b6aa0c934f2f274d59cb50e">DataBusHandler::parent</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
pointer to its parent 
<p>

<p>Definition at line <a class="el" href="data__bus__handler_8h-source.html#l00052">52</a> of file <a class="el" href="data__bus__handler_8h-source.html">data_bus_handler.h</a>.</p>

<p>Referenced by <a class="el" href="bus_8cc-source.html#l00061">Bus::SetLinks()</a>.</p>

</div>
</div><p>
<a class="anchor" name="f41700d361775ecae955d7a2c7c9b126"></a><!-- doxytag: member="DataBusHandler::prevTime" ref="f41700d361775ecae955d7a2c7c9b126" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mc__constants_8h.html#a475e5c84e5eb0fe317942dc62553f7e">Time</a> <a class="el" href="classDataBusHandler.html#f41700d361775ecae955d7a2c7c9b126">DataBusHandler::prevTime</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
variable to keep track of the last time data bus was used 
<p>

<p>Definition at line <a class="el" href="data__bus__handler_8h-source.html#l00058">58</a> of file <a class="el" href="data__bus__handler_8h-source.html">data_bus_handler.h</a>.</p>

<p>Referenced by <a class="el" href="data__bus__handler_8cc-source.html#l00034">DataBusHandler()</a>, and <a class="el" href="data__bus__handler_8cc-source.html#l00059">process_event()</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="data__bus__handler_8h-source.html">data_bus_handler.h</a><li><a class="el" href="data__bus__handler_8cc-source.html">data_bus_handler.cc</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Aug 23 00:23:03 2010 for IRIS by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
